REPORT ZTES3.



**DATA:REC_T001 TYPE T001,
**I_T001 TYPE STANDARD TABLE OF T001.
**
**
**SELECT *
**  INTO TABLE I_T001
**  FROM T001.
**
**REC_T001-BUKRS = '100'.
**
**MODIFY I_T001 FROM REC_T001 TRANSPORTING BUKRS WHERE BUKRS IS NOT INITIAL.
**
**WRITE:'00'.
*
*DATA int TYPE i VALUE 12345678.
*WRITE int NO-GROUPING CURRENCY 'EUR'.

DATA: ABGR_OBJ_TOTAL  TYPE I,
      ABGR_OBJ_HELP   TYPE I,
      ABGR_OBJ_HELP1  TYPE I,
      ABGR_OBJ_HELP_F TYPE F,
      ABGR_OBJ_HELP_T(50),
      ABGR_OBJ_HELP_T1(3),
      ABGR_OBJ_HELP_T2(10),
      ABGR_OBJ_LOOPED  TYPE I,
      ABGR_OBJ_TO_LOOP TYPE I,
      ABGR_OBJ_DONE    TYPE I,
      ABGR_OBJ_NOT_DONE TYPE I.
TABLES:T001.
SELECT-OPTIONS:S_T001  FOR T001-BUKRS.
DATA:
I_T001 TYPE TABLE OF T001,
REC_T001 TYPE T001,
I_ALL TYPE TABLE OF T001.

START-OF-SELECTION.
FIELD-SYMBOLS: <LREC_T001> TYPE T001.
SELECT * INTO TABLE I_T001 FROM T001
 WHERE BUKRS LIKE 'A%'.

REC_T001-BUKRS = 'C001'.
APPEND REC_T001 TO I_ALL.

APPEND LINES OF I_T001 TO I_ALL.

*LOOP AT I_T001 ASSIGNING <LREC_T001>.
*  <LREC_T001>-BUKRS = 001.
*ENDLOOP.

IF SY-SUBRC = 0.

ENDIF.

*ABGR_OBJ_TO_LOOP = 1000.


*DO 99999999 TIMES.
*
* PERFORM process_ind1.
*ENDDO.


*&---------------------------------------------------------------------*
*&      Form  PROCESS_IND1
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM PROCESS_IND1 .


 ABGR_OBJ_LOOPED = ABGR_OBJ_LOOPED + 1.
  ABGR_OBJ_HELP_F = ABGR_OBJ_LOOPED * 100 / ABGR_OBJ_TO_LOOP.
  ABGR_OBJ_HELP   = ABGR_OBJ_HELP_F.

  IF ABGR_OBJ_HELP1 NE ABGR_OBJ_HELP.
    IF ABGR_OBJ_HELP1 LT 0.
      ABGR_OBJ_HELP1 = 0.
    ENDIF.
    ABGR_OBJ_HELP_T1 = ABGR_OBJ_HELP1.
    ABGR_OBJ_HELP_T2 = ABGR_OBJ_TO_LOOP.
    CONCATENATE ABGR_OBJ_HELP_T1
                '%'
                TEXT-SP6
                ABGR_OBJ_HELP_T2
                TEXT-SP5
                INTO ABGR_OBJ_HELP_T
                SEPARATED BY ' '.
    CALL FUNCTION 'SAPGUI_PROGRESS_INDICATOR'
      EXPORTING
        PERCENTAGE = ABGR_OBJ_HELP1
        TEXT       = ABGR_OBJ_HELP_T.
        ABGR_OBJ_HELP1 = ABGR_OBJ_HELP.
  ENDIF.

ENDFORM.                    " PROCESS_IND1
