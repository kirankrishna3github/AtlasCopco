*&---------------------------------------------------------------------*
*& Report  YSE_CONDITION_PB00
*&
*&---------------------------------------------------------------------*
*&
*&
*&---------------------------------------------------------------------*

REPORT  YSE_CONDITION_PB00.

TABLES: A017, KONP.

  TYPES: BEGIN OF TY_A017,
          KAPPL TYPE A017-KAPPL,
          KSCHL TYPE A017-KSCHL,
          LIFNR TYPE A017-LIFNR,
          MATNR TYPE A017-MATNR,
          EKORG TYPE A017-EKORG,
          WERKS TYPE A017-WERKS,
          DATBI TYPE A017-DATBI,
          DATAB TYPE A017-DATAB,
          KNUMH TYPE A017-KNUMH,
        END OF TY_A017.
DATA: IT_ITAB TYPE TABLE OF TY_A017,
      WA_ITAB TYPE TY_A017.
  TYPES: BEGIN OF TY_KONP,
          KOPOS TYPE KONP-KOPOS,
          KBETR TYPE KONP-KBETR,
          KONWA TYPE KONP-KONWA,
          KPEIN TYPE KONP-KPEIN,
        END OF TY_KONP.
TYPES: BEGIN OF TY_OUT,
          KSCHL TYPE A017-KSCHL,
          LIFNR TYPE A017-LIFNR,
          MATNR TYPE A017-MATNR,
          EKORG TYPE A017-EKORG,
          WERKS TYPE A017-WERKS,
          DATAB TYPE A017-DATAB,
          KNUMH TYPE A017-KNUMH,
          KBETR TYPE KONP-KBETR,
          KONWA TYPE KONP-KONWA,
          KPEIN TYPE KONP-KPEIN,
         END OF TY_OUT.

 DATA: IT_OUT TYPE TABLE OF TY_OUT,
       WA_OUT TYPE TY_OUT.

SELECT-OPTIONS: S_KAPPL FOR A017-KAPPL DEFAULT 'M',
                S_KSCHL FOR A017-KSCHL DEFAULT 'PB00',
                S_LIFNR FOR A017-LIFNR,
                S_MATNR FOR A017-MATNR,
                S_EKORG FOR A017-EKORG,
                S_WERKS FOR A017-WERKS,
                S_DATBI FOR A017-DATBI DEFAULT '0',
                S_DATAB FOR A017-DATAB,
                S_KNUMH FOR A017-KNUMH.

SELECT KSCHL LIFNR MATNR EKORG WERKS DATBI DATAB KNUMH
  FROM A017
  INTO TABLE IT_OUT
  WHERE KAPPL = S_KAPPL AND
        KSCHL = S_KSCHL AND
        WERKS = S_DATBI AND
        KNUMH = S_KNUMH.

IF IT_OUT IS NOT INITIAL.
IF SY-SUBRC = 0.

*SELECT KNUMH KOPOS KBETR KONWA KPEIN FORM KONP FOR ALL ENTRIES IN IT_OUT

ENDIF.
ENDIF.
