
*&---------------------------------------------------------------------*
*&  Include           YSE_SD_KP03_RPT_TOP                              *
*&---------------------------------------------------------------------*
***************************************************************************
*data declarations
***************************************************************************
DATA: OK_CODE TYPE SYUCOMM.
*     GV_SUBRC TYPE SYSUBRC.


DATA:     MY_CONTAINER TYPE REF TO CL_GUI_DOCKING_CONTAINER,
          MY_ALV TYPE REF TO CL_GUI_ALV_GRID.

DATA: LS_VARIANT TYPE DISVARIANT,
      LS_LAYOUT TYPE LVC_S_LAYO,
      LT_FIELDCAT TYPE LVC_T_FCAT,
      LS_FIELDCAT LIKE LINE OF LT_FIELDCAT,
      LT_SORT TYPE LVC_T_SORT.
*     LS_SORT LIKE LINE OF LT_SORT,
*     LV_ADDR_SEL  TYPE ADDR1_SEL,
*     LV_SADR      TYPE SADR.

* report output table
DATA:
  IT_OUT  TYPE YSE_SD_KP11_OUTPUT OCCURS 0 WITH HEADER LINE.

* TYPE-POOLS *
TYPE-POOLS SLIS.



* WORKING AREA'S *
*DATA:
*  GS_LAYOUT       TYPE LVC_S_LAYO.

* INTERNAL TABLES


* OBJECT VARIABLES *
*DATA : OBJ_CONT_ORDLIN       TYPE REF TO CL_GUI_CUSTOM_CONTAINER,
*       OBJ_ALV_ORDLIN        TYPE REF TO CL_GUI_ALV_GRID,
*       OBJ_EVENT_HNDL_ORDLIN TYPE REF TO LCL_EVENT_HANDLER.

* VARIOUS VARIABLES *
*DATA:  OKCODE          TYPE SYUCOMM.
*



* Tables need to be selected
TABLES:
      VBAK,
*     VBUK,
*     LIKP,
*     LIPS,
      VBAP,
*     MKPF,
*     MSEG,
*     VBEP,
*     VBUP,
      MARA.
*     AUFK,
*     RESB,
*     YSE_EM_PLANT,
*     QMEL.

*internal tables
* internal table contains data related to sales documents & material
*DATA:
*      BEGIN OF IT_VBAP OCCURS 0,
*          VBELN LIKE  VBAP-VBELN,
*          POSNR LIKE  VBAP-POSNR,
*          WERKS LIKE  VBAP-WERKS,
*          MATNR LIKE  VBAP-MATNR,
*          MATKL LIKE  VBAP-MATKL,
*          MTART LIKE  MARA-MTART,
*          PRDHA LIKE  MARA-PRDHA,
*          WHTYPE LIKE YSE_EM_PLANT-WHTYPE,
*          MTPOS  LIKE  MVKE-MTPOS,
*          MVGR4  LIKE  MVKE-MVGR4,
*      END OF IT_VBAP.
** internal table contains data related to sales org., credit block, order reason
*DATA:
*
*      BEGIN OF IT_VBAK OCCURS 0,
*          VBELN TYPE VBAK-VBELN,
*          AUART LIKE  VBAK-AUART,
*          VKORG LIKE  VBAK-VKORG,
*          VTWEG LIKE  VBAK-VTWEG,
*          AUGRU LIKE VBAK-AUGRU,
*          CMFRE LIKE VBAK-CMFRE,
*          POSNR LIKE VBAP-POSNR,
*          WERKS LIKE VBAP-WERKS,
*          MATNR LIKE VBAP-MATNR,
*          MATKL LIKE VBAP-MATKL,
*          PRODH LIKE VBAP-PRODH,
*          PSTYV LIKE VBAP-PSTYV,
*          ERDAT LIKE VBAP-ERDAT,
*          WHTYPE LIKE YSE_EM_PLANT-WHTYPE,
*          WAERS LIKE T001-WAERS,
*          CMGST LIKE VBUK-CMGST,
*          LSSTA LIKE VBUP-LSSTA,
*          FSSTA LIKE VBUP-FSSTA,
*      END OF IT_VBAK.
*
* internal table contains reservations items data
*DATA:
*
*      BEGIN OF IT_RESB OCCURS 0,
*          RSNUM LIKE  RESB-RSNUM,
*          RSPOS LIKE  RESB-RSPOS,
*          RSART LIKE  RESB-RSART,
*          AUFNR LIKE  RESB-AUFNR,
*          VORAB LIKE  RESB-VORAB,
*          XLOEK LIKE  RESB-XLOEK,
*          XWAOK LIKE  RESB-XWAOK,
*          POSTP LIKE  RESB-POSTP,
*          MATNR LIKE  RESB-MATNR,
*          BWART LIKE  RESB-BWART,
*          WERKS LIKE  RESB-WERKS,
*          MATKL LIKE  RESB-MATKL,
*          MTART LIKE  MARA-MTART,
*          PRDHA LIKE  MARA-PRDHA,
*          AUART LIKE  AUFK-AUART,
*          OBJNR LIKE  AUFK-OBJNR,
*          VKORG LIKE  PMSDO-VKORG,
*          VTWEG LIKE  PMSDO-VTWEG,
*      END OF IT_RESB.
*
** internal table type QMEL
*DATA:
*  BEGIN OF IT_QMEL OCCURS 0,
*      QMNUM TYPE QMNUM,
*      QMART TYPE QMART,
*      AUFNR TYPE AUFNR,
*  END OF IT_QMEL.
*
*
*DATA: LV_WHTYPE TYPE C.
*
*DATA: IT_VBAK1 LIKE IT_VBAK OCCURS 0 WITH HEADER LINE.
*DATA: IT_VBAK2 LIKE IT_VBAK OCCURS 0 WITH HEADER LINE.
*DATA: IT_VBAK3 LIKE IT_VBAK OCCURS 0 WITH HEADER LINE.
*DATA: IT_VBAK4 LIKE IT_VBAK OCCURS 0 WITH HEADER LINE.


*DATA: BEGIN OF IT_MARA OCCURS 0,
*         MATNR LIKE MARA-MATNR,
*         MATKL LIKE MARA-MATKL,
*         PRDHA LIKE MARA-PRDHA,
*      END OF IT_MARA.
*
*
*DATA: BEGIN OF IT_MARC OCCURS 0,
*         MATNR LIKE MARC-MATNR,
*         WERKS LIKE MARC-WERKS,
*         PRCTR LIKE MARC-PRCTR,
*         DISMM LIKE MARC-DISMM,
*      END OF IT_MARC.
*
*
*DATA: BEGIN OF IT_MVKE OCCURS 0,
*         MATNR LIKE MVKE-MATNR,
*         VKORG LIKE MVKE-VKORG,
*         MTPOS LIKE MVKE-MTPOS,
*         MVGR4 LIKE MVKE-MVGR4,
*      END OF IT_MVKE.

*DATA: BEGIN OF IT_EORD OCCURS 0,
*         MATNR LIKE EORD-MATNR,
*         WERKS LIKE EORD-WERKS,
*         LIFNR LIKE EORD-LIFNR,
*         FLIFN LIKE EORD-FLIFN,
*      END OF IT_EORD.
*
*DATA: BEGIN OF IT_MBEW OCCURS 0,
*         MATNR LIKE MBEW-MATNR,
*         BWKEY LIKE MBEW-MATNR,
*         STPRS LIKE MBEW-STPRS,
*      END OF IT_MBEW.
*
*DATA: BEGIN OF IT_VBEP OCCURS 0,
*        VBELN LIKE VBEP-VBELN,
*        POSNR LIKE VBEP-POSNR,
*        ETTYP LIKE VBEP-ETTYP,
*        EDATU LIKE VBEP-EDATU,
*        WMENG LIKE VBEP-WMENG,
*      END OF IT_VBEP.


*DATA: BEGIN OF IT_MKPF OCCURS 0,
*        MBLNR LIKE MKPF-MBLNR,
*        MJAHR LIKE MKPF-MJAHR,
*        XBLNR LIKE MKPF-XBLNR,
*        BUDAT LIKE MKPF-BUDAT,
*        BWART LIKE MSEG-BWART,
*        SHKZG LIKE MSEG-SHKZG,
*        XSTBW LIKE T156-XSTBW,
*      END OF IT_MKPF.
*
*
*DATA: IT_TVAUT LIKE TVAUT OCCURS 0 WITH HEADER LINE.
*
*DATA: R_CMGST TYPE YSE_RANGE_CMGST_T WITH HEADER LINE.

*DATA: GV_COUNTER LIKE VBEP-ETENR.

*DATA: BEGIN OF IT_DEL OCCURS 0,
*        VBELV LIKE VBFA-VBELV,
*        POSNV LIKE VBFA-POSNV,
*        VBELN LIKE VBFA-VBELN,
*        POSNN LIKE VBFA-POSNN,
*        LFIMG LIKE LIPS-LFIMG,
*        WADAT_IST LIKE LIKP-WADAT_IST,
*      END OF IT_DEL.

*DATA: BEGIN OF IT_T001W OCCURS 0,
*       WERKS LIKE T001W-WERKS,
*       FABKL LIKE T001W-FABKL,
*      END OF IT_T001W.

DATA: BEGIN OF IT_ISEG OCCURS 0,
        WERKS LIKE ISEG-WERKS,
        MATNR LIKE ISEG-MATNR,
        IBLNR LIKE ISEG-IBLNR,
        GJAHR LIKE ISEG-GJAHR,
        ZEILI LIKE ISEG-ZEILI,
        LGORT LIKE ISEG-LGORT,
        ZLDAT LIKE ISEG-ZLDAT,
        BUCHM LIKE ISEG-BUCHM,
        MENGE LIKE ISEG-MENGE,
        DMBTR LIKE ISEG-DMBTR,
        WRTBM LIKE ISEG-WRTBM,
        MTART LIKE MARA-MTART,
        MATKL LIKE MARA-MATKL,
      END OF IT_ISEG.

*DATA: LV_DATE TYPE SY-DATUM.
*DATA: LV_DATE_ADD TYPE SY-DATUM.
*DATA: LV_DAYS LIKE VBEP-ETENR.
*DATA: LV_FABKL TYPE C.
*DATA: LV_TOT_LFIMG LIKE LIPS-LFIMG.
*DATA: WA_DATE LIKE RANGE OF VBEP-EDATU.

DATA: WA_ISEG LIKE IT_ISEG.
DATA: IT_ISEG_1 LIKE IT_ISEG OCCURS 0 WITH HEADER LINE.
